<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Mini Game</title>
  <style>
    body { text-align: center; }
    #game {
      width: 400px; height: 400px;
      border: 2px solid black;
      position: relative; margin: auto;
      background: #f0f0f0;
      overflow: hidden;
    }
    #player, #box {
      width: 40px; height: 40px;
      position: absolute;
    }
    #player { background: blue; bottom: 10px; left: 180px; }
    #box { background: red; top: 0; left: 180px; }
  </style>
</head>
<body>
  <h1>Catch the Box!</h1>
  <div id="game">
    <div id="player"></div>
    <div id="box"></div>
  </div>
  <p id="score">Score: 0</p>

<script>
let player = document.getElementById('player');
let box = document.getElementById('box');
let score = 0;

// Задаваме начална позиция
player.style.left = "180px";
box.style.top = "0px";

// Управление с клавиши
document.addEventListener('keydown', e => {
  let left = parseInt(player.style.left);
  if (e.key === "ArrowLeft" && left > 0) {
    player.style.left = (left - 20) + "px";
  }
  if (e.key === "ArrowRight" && left < 360) {
    player.style.left = (left + 20) + "px";
  }
});

// Игрови цикъл – падане на кутията
function dropBox(){
  let top = parseInt(box.style.top) || 0;
  if(top < 360){
    box.style.top = top + 20 + "px";
  } else {
    let playerLeft = parseInt(player.style.left);
    let boxLeft = parseInt(box.style.left);
    if(Math.abs(playerLeft - boxLeft) < 40){
      score++;
      document.getElementById('score').innerText = "Score: " + score;
    }
    // ресетваме кутията
    box.style.top = "0px";
    box.style.left = Math.floor(Math.random() * 360) + "px";
  }
}
setInterval(dropBox, 200);
</script>
</body>
</html>

